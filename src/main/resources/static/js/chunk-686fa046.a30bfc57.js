(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-686fa046"],{"004c":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-header-wrapper",{attrs:{breadcrumb:!1},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{staticClass:"page-header-content"},[a("div",{staticClass:"avatar"},[a("a-avatar",{attrs:{size:"large",src:t.avatar}})],1),a("div",{staticClass:"content"},[a("div",{staticClass:"content-title"},[t._v(" "+t._s(t.timeFix)+"，"+t._s(t.userInfo.nickname)),a("span",{staticClass:"welcome-text"},[t._v("，"+t._s(t.welcome))])]),a("div",[a("img",{attrs:{src:"https://v2.jinrishici.com/one.svg?font-size=16&color=gray",alt:"今日诗词"}})])])])]},proxy:!0}])},[a("a-row",{attrs:{gutter:24}},[a("a-col",{attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("a-card",{attrs:{loading:t.loading,title:"车辆轨迹",bordered:!1}},[a("a-table",{attrs:{columns:t.path.columns,"data-source":t.path.data,rowKey:"id",pagination:t.path.pagination},on:{change:t.handlePathTableChange}})],1)],1)],1),a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{attrs:{xl:24,lg:24,md:24,sm:24,xs:24}},[a("a-card",{attrs:{loading:t.loading,title:"操作记录",bordered:!1}},[a("a-list",t._l(t.activities,(function(e,n){return a("a-list-item",{key:n},[a("a-list-item-meta",{attrs:{description:e.createTime}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.operation))])]),a("ellipsis",{attrs:{length:35,tooltip:""}},[t._v(t._s(e.username))])],1)})),1),a("a-pagination",{staticStyle:{"text-align":"right"},attrs:{pageSize:t.pagination.pageSize,total:t.pagination.total},on:{change:t.handleLogPageChange},model:{value:t.pagination.current,callback:function(e){t.$set(t.pagination,"current",e)},expression:"pagination.current"}})],1)],1)],1)],1)},i=[],r=(a("b680"),a("5530")),o=a("ca00"),s=a("5880"),u=a("c4db"),c=a("c0d2"),l=a("59e4"),d=a("ade3b"),h={name:"Workplace",components:{PageHeaderWrapper:c["b"],Ellipsis:u["a"]},data:function(){return{timeFix:Object(o["a"])(),avatar:"",user:{},loading:!1,activities:[],path:{data:[],pagination:{},columns:[{title:"ID",dataIndex:"id"},{title:"车牌号",dataIndex:"carNumber"},{title:"距离",dataIndex:"distance",customRender:function(t){return t.toFixed(2)+"米"}},{title:"通行时间",dataIndex:"time",customRender:function(t){return(t/1e3).toFixed(2)+"秒"}},{title:"平均速度",dataIndex:"averageSpeed",customRender:function(t){return t.toFixed(2)+"km/h"}},{title:"缓转弯",dataIndex:"regularTurnCount"},{title:"急转弯",dataIndex:"sharpTurnCount"},{title:"掉头",dataIndex:"uturnCount"},{title:"创建时间",dataIndex:"createTime"}]},pagination:{current:1,pageSize:5,total:0}}},computed:Object(r["a"])(Object(r["a"])({},Object(s["mapState"])({nickname:function(t){return t.user.nickname},welcome:function(t){return t.user.welcome}})),{},{currentUser:function(){return{name:this.userInfo.username,avatar:this.avatar}},userInfo:function(){return this.$store.getters.userInfo}}),created:function(){this.user=this.userInfo,this.avatar=this.userInfo.avatar,this.handleListActivity(),this.handleListPath()},methods:{handleLogPageChange:function(t){this.pagination.current=t,this.handleListActivity()},handleListActivity:function(){var t=this,e={current:this.pagination.current,pageSize:this.pagination.pageSize};l["a"].listByUser(e).then((function(e){t.activities=e.data.list,t.pagination.total=e.data.total}))},handleListPath:function(){var t=this;d["a"].list().then((function(e){var a=e.data,n=a.list,i=a.total;t.path.data=n,t.path.pagination.total=i}))},handlePathTableChange:function(t){this.path.pagination.current=t,this.handleListPath()}}},p=h,g=(a("9286"),a("2877")),f=Object(g["a"])(p,n,i,!1,null,"a1286912",null);e["default"]=f.exports},"59e4":function(t,e,a){"use strict";var n=a("b775"),i={list:function(t){return Object(n["b"])({url:"/log/action",method:"get",params:t})},listByUser:function(t){return Object(n["b"])({url:"/log/action/user",method:"get",params:t})}};e["a"]=i},9286:function(t,e,a){"use strict";a("b914")},ade3b:function(t,e,a){"use strict";var n=a("b775"),i={route:function(t){return Object(n["b"])({url:"/route",method:"post",data:t})},save:function(t){return Object(n["b"])({url:"/route/save",method:"post",data:t})},list:function(t){return Object(n["b"])({url:"/route",method:"get",params:t})},getById:function(t){return Object(n["b"])({url:"/route/".concat(t),method:"get"})},deleteById:function(t){return Object(n["b"])({url:"/route/".concat(t),method:"delete"})}};e["a"]=i},b914:function(t,e,a){},c4db:function(t,e,a){"use strict";a("a15b"),a("d81d"),a("a9e3");var n,i,r=a("f933"),o=a("d988"),s={name:"Ellipsis",components:{Tooltip:r["a"]},props:{prefixCls:{type:String,default:"ant-pro-ellipsis"},tooltip:{type:Boolean},length:{type:Number,required:!0},lines:{type:Number,default:1},fullWidthRecognition:{type:Boolean,default:!1}},methods:{getStrDom:function(t,e){var a=this.$createElement;return a("span",[Object(o["a"])(t,this.length)+(e>this.length?"...":"")])},getTooltip:function(t,e){var a=this.$createElement;return a(r["a"],[a("template",{slot:"title"},[t]),this.getStrDom(t,e)])}},render:function(){var t=this.$props,e=t.tooltip,a=t.length,n=this.$slots.default.map((function(t){return t.text})).join(""),i=Object(o["c"])(n),r=e&&i>a?this.getTooltip(n,i):this.getStrDom(n,i);return r}},u=s,c=a("2877"),l=Object(c["a"])(u,n,i,!1,null,null,null),d=l.exports;e["a"]=d},d988:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return r}));a("4de4"),a("13d5"),a("ac1f"),a("1276"),a("498a");function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter((function(t){return t.tag||t.text&&""!==t.text.trim()}))}var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.split("").reduce((function(t,e){var a=e.charCodeAt(0);return a>=0&&a<=128?t+1:t+2}),0)},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,a=0;return t.split("").reduce((function(t,n){var i=n.charCodeAt(0);return a+=i>=0&&i<=128?1:2,a<=e?t+n:t}),"")}}}]);