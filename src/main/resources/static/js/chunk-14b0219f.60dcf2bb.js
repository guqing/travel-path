(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14b0219f"],{"1f38":function(e,t,r){},"2ee3":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-card",{attrs:{bordered:!1}},[r("a-row",{attrs:{gutter:8,type:"flex",justify:"center"}},[r("a-col",{attrs:{lg:12,md:24,order:e.isMobile?1:0}},[r("a-spin",{attrs:{tip:"Loading...",spinning:e.treeDataLoading}},[r("a-tree",{attrs:{checkable:"",blockNode:"","expanded-keys":e.expandedGroupKeys,"auto-expand-parent":e.autoExpandParent,"selected-keys":e.selectedKeys,"tree-data":e.userGroupTreeData},on:{expand:e.onTreeGroupExpand,select:e.onSelect,check:e.onTreeGroupCheck},model:{value:e.checkedGroupKeys,callback:function(t){e.checkedGroupKeys=t},expression:"checkedGroupKeys"}}),0==e.userGroupTreeData.length?r("a-empty"):e._e()],1)],1),r("a-col",{attrs:{lg:12,md:24}},[r("a-form",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[r("a-form-item",{attrs:{label:"上级组"}},[r("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},"tree-data":e.userGroupTreeData,"tree-default-expand-all":""},model:{value:e.userGroupForm.parentId,callback:function(t){e.$set(e.userGroupForm,"parentId",t)},expression:"userGroupForm.parentId"}})],1),r("a-form-item",{attrs:{label:"组名称"}},[r("a-input",{attrs:{placeholder:"例如：默认用户组"},model:{value:e.userGroupForm.groupName,callback:function(t){e.$set(e.userGroupForm,"groupName",t)},expression:"userGroupForm.groupName"}})],1),r("a-form-item",{attrs:{label:"排序"}},[r("a-tooltip",{attrs:{trigger:["focus"],placement:"topLeft","overlay-class-name":"numeric-input"}},[r("template",{slot:"title"},[e._v(" 请输入整数数字 ")]),r("a-input",{attrs:{type:"number",placeholder:"只能输入数字","max-length":25},model:{value:e.userGroupForm.sortIndex,callback:function(t){e.$set(e.userGroupForm,"sortIndex",e._n(t))},expression:"userGroupForm.sortIndex"}})],2)],1),r("a-form-item",{attrs:{"wrapper-col":e.groupFormButtonWrapperCol}},[r("a-button",{directives:[{name:"limitclick",rawName:"v-limitclick",value:e.handleSaveOrUpdate,expression:"handleSaveOrUpdate"},{name:"action",rawName:"v-action:save",arg:"save"}],attrs:{type:"primary"}},[e._v(" 保存 ")]),r("a-button",{style:{marginLeft:"8px"},on:{click:e.handleResetGroupForm}},[e._v(" 重置 ")])],1)],1)],1)],1)],1)},o=[],n=(r("d3b7"),r("b775")),u={list:function(e){return Object(n["b"])({url:"/group/list",method:"get",params:e})},getById:function(e){return Object(n["b"])({url:"/group/".concat(e),method:"get"})},createOrUpdate:function(e){return Object(n["b"])({url:"/group/save",method:"post",data:e})}},s=u,p=r("432b"),i={name:"TreeList",mixins:[p["a"]],data:function(){return{treeDataLoading:!1,userGroupForm:{},groupFormButtonWrapperCol:{span:14,offset:4},labelCol:{span:4},wrapperCol:{span:18},queryParam:{},expandedGroupKeys:[],autoExpandParent:!1,checkedGroupKeys:[],selectedKeys:[],userGroupTreeData:[]}},created:function(){this.listUserGroupTree()},computed:{},methods:{listUserGroupTree:function(){var e=this;this.treeDataLoading=!0,s.list().then((function(t){e.userGroupTreeData=t.data})).catch((function(t){e.userGroupTreeData=[],e.$message.error("查询出错:".concat(t))})).finally((function(){e.treeDataLoading=!1}))},onTreeGroupExpand:function(e){this.expandedGroupKeys=e,this.autoExpandParent=!1},onTreeGroupCheck:function(e){},onSelect:function(e,t){var r=this;this.handleToggleTreeMenu(e,t),this.selectedKeys=e;var a=e[0];a&&s.getById(a).then((function(e){r.userGroupForm=e.data,0===e.data.parentId&&(r.userGroupForm.parentId=null)}))},handleToggleTreeMenu:function(e,t){t.node.dataRef.hasChildren&&(this.expandedMenuKeys=e)},handleSaveOrUpdate:function(){var e=this;this.userGroupForm?this.$message.warning("必填参数为空"):s.createOrUpdate(this.userGroupForm).then((function(t){e.$message.success("保存成功"),e.listUserGroupTree()}))},handleResetGroupForm:function(){this.userGroupForm={}}}},l=i,c=(r("af97"),r("2877")),d=Object(c["a"])(l,a,o,!1,null,null,null);t["default"]=d.exports},"432b":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("5530"),o=r("5880"),n={computed:Object(a["a"])(Object(a["a"])({},Object(o["mapState"])({layout:function(e){return e.app.layout},navTheme:function(e){return e.app.theme},primaryColor:function(e){return e.app.color},colorWeak:function(e){return e.app.weak},fixedHeader:function(e){return e.app.fixedHeader},fixedSidebar:function(e){return e.app.fixedSidebar},contentWidth:function(e){return e.app.contentWidth},autoHideHeader:function(e){return e.app.autoHideHeader},isMobile:function(e){return e.app.isMobile},sideCollapsed:function(e){return e.app.sideCollapsed},multiTab:function(e){return e.app.multiTab}})),{},{isTopMenu:function(){return"topmenu"===this.layout}}),methods:{isSideMenu:function(){return!this.isTopMenu}}}},af97:function(e,t,r){"use strict";r("1f38")}}]);