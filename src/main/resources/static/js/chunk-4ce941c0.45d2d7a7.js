(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ce941c0"],{"106a":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"account-settings-info-view"},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{md:24,lg:16}},[t("a-form",{attrs:{layout:"vertical",form:e.form}},[t("a-form-item",{attrs:{label:"原始密码"}},[t("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["oldPassword",{rules:[{required:!0,message:"请输入原始密码",whitespace:!1}]}],expression:"[\n              'oldPassword',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入原始密码',\n                    whitespace: false\n                  }\n                ]\n              }\n            ]"}]})],1),t("a-form-item",{attrs:{label:"新密码"}},[t("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["newPassword",{rules:[{required:!0,message:"请输入新密码",whitespace:!1},{validator:e.validateToNextPassword}]}],expression:"[\n              'newPassword',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: '请输入新密码',\n                    whitespace: false\n                  },\n                  {\n                    validator: validateToNextPassword\n                  }\n                ]\n              }\n            ]"}],on:{blur:e.handleConfirmBlur}})],1),t("a-form-item",{attrs:{label:"确认密码"}},[t("a-input-password",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmPassword",{rules:[{required:!0,message:"再次输入新密码"},{validator:e.compareToFirstPassword}]}],expression:"[\n              'confirmPassword',\n              {\n                rules: [\n                  {\n                    required: true,\n                    message: '再次输入新密码'\n                  },\n                  {\n                    validator: compareToFirstPassword\n                  }\n                ]\n              }\n            ]"}]})],1),t("a-form-item",[t("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确认更改")])],1)],1)],1)],1)],1)},s=[],n=t("c24f"),o={data:function(){return{confirmDirty:!1,confirmPassword:"",validateMessage:{}}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"updatePassword"})},methods:{handleSubmit:function(e){var r=this;this.form.validateFieldsAndScroll((function(e,t){var a={oldPassword:t.oldPassword,newPassword:t.newPassword};e||r.handleUpdatePassword(a)}))},handleConfirmBlur:function(e){var r=e.target.value;this.confirmDirty=this.confirmDirty||!!r},compareToFirstPassword:function(e,r,t){var a=this.form;r&&r!==a.getFieldValue("newPassword")?t("两次密码不一致，请重新输入"):t()},validateToNextPassword:function(e,r,t){var a=this.form;r&&this.confirmDirty?(a.validateFields(["confirmPassword"],{force:!0}),t()):(r.length<3||r.length>16)&&t("密码长度必须在3-16字符之间")},handleUpdatePassword:function(e){var r=this;n["a"].updatePassword(e).then((function(e){r.form.resetFields(),r.$message.success("修改成功")})).catch((function(e){r.$message.error("修改密码出错，error:".concat(e))}))}}},u=o,i=t("2877"),c=Object(i["a"])(u,a,s,!1,null,null,null);r["default"]=c.exports},c24f:function(e,r,t){"use strict";var a=t("b775"),s={list:function(e){return Object(a["b"])({url:"/user/list",method:"get",params:e,headers:{"Content-Type":"application/json;charset=UTF-8"}})},create:function(e){return Object(a["b"])({url:"/user",method:"post",data:e})},update:function(e){return Object(a["b"])({url:"/user",method:"put",data:e})},updateProfile:function(e){return Object(a["b"])({url:"/user/profile",method:"put",data:e})},updateAvatar:function(e){return Object(a["b"])({url:"/user/avatar?avatar=".concat(e),method:"put"})},uploadAvatar:function(e){return Object(a["b"])({url:"/user/avatar/upload",method:"post",data:e})},updatePassword:function(e){return Object(a["b"])({url:"/user/password",method:"put",data:e})},resetPassword:function(e){return Object(a["b"])({url:"/user/reset/".concat(e),method:"put"})},checkUsername:function(e){return Object(a["b"])({url:"/user/check/username",method:"get",params:{username:e}})},checkEmail:function(e){return Object(a["b"])({url:"/user/check/email",method:"get",params:{email:e}})},lockUser:function(e){return Object(a["b"])({url:"/user/lock/".concat(e),method:"put"})},unlockUser:function(e){return Object(a["b"])({url:"/user/unlock/".concat(e),method:"put"})},deleteUser:function(e){return Object(a["b"])({url:"/user",method:"delete",data:e})}};r["a"]=s}}]);